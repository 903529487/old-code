<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
		<script type="text/javascript" src="js/sethtml.js"></script>
		<link rel="stylesheet" href="adt/swiper.min.css" />
		<link rel="stylesheet" href="css/css.css" />
	</head>
	<style>
		.swiper-container {
			border-bottom: 1px solid #E0E0E0;
		}
	</style>

	<body>
		<header class="det-head">
			<a href="javascript:history.go(-1);" class="ht"><img src="img/ht.png" /></a>
			<a href="shopping_cart.html" class="cras"><img src="img/gwc2.png" /></a>
			<a href="javascript:viod(0);" class="gd"><img src="img/slv.png" alt="" /></a>
			<div class="zi-meta">
				<a href="index.html">主页</a>
				<a href="user.html">个人中心</a>
				<a href="goods_list.html">特卖专区</a>
				<a href="goods_list.html">精品区</a>
			</div>
		</header>
		<!--商品轮播图star-->
		<div class="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<div class="goos-det">
						<span>
							<img src="img/goods.png" alt="" />
						</span>
					</div>
				</div>
				<div class="swiper-slide">
					<div class="goos-det">
						<span>
							<img src="img/goods.png" alt="" />
						</span>
					</div>
				</div>
				<div class="swiper-slide">
					<div class="goos-det">
						<span>
							<img src="img/goods.png" alt="" />
						</span>
					</div>
				</div>
			</div>
			<div class="swiper-pagination"></div>
		</div>
		<div class="det-sec">
			<h3>王能手机加</h3>
			<h4>描述描述描述描述</h4>
			<table border="0" cellspacing="0" cellpadding="0">
				<tr>
					<td>● 市场价格：<span>￥200</span></td>
					<td>● 已被领取：5655</td>
				</tr>
				<tr>
					<td>● 剩余：<span>6222</span></td>
					<td>● 特价包邮：<b>￥5550</b></td>
				</tr>
			</table>
		</div>
		<div class="det-ge">
			<h3>规格选择</h3>
			<table border="0" cellspacing="0" cellpadding="0" class="ge-atb0">
				<tr>
					<td><button class="ge-kuan ge-kuan-on">蓝色</button></td>
					<td><button class="ge-kuan">蓝色</button></td>
				</tr>
			</table>

			<table border="0" cellspacing="0" cellpadding="0" class="ge-atb1">
				<tr>
					<td><button class="ge-kuan ge-kuan-on">大</button></td>
					<td><button class="ge-kuan">小</button></td>
				</tr>
				<tr>
					<td><button class="ge-kuan">中</button></td>

				</tr>
			</table>
			<table border="0" cellspacing="0" cellpadding="0" class="ge-atb2">
				<!-- 没增加一个类别class加1  -->
				<tr>
					<td><button class="ge-kuan ge-kuan-on">大</button></td>
					<td><button class="ge-kuan">小</button></td>
				</tr>
				<tr>
					<td><button class="ge-kuan">中</button></td>

				</tr>
			</table>
		</div>
		<br>
		<div class="detconter">
			<ul class="clearfix">
				<li class="detconter-on">
					<div>商品详情</div>
				</li>
				<li>
					<div>评价<br><span>656</span></div>
				</li>
				<li>
					<div>成交记录<br><span>656</span></div>
				</li>
			</ul>
		</div>
		<section class="cont-main goodsdet-box" style="display: block;"><br>
			<img src="img/banner.jpg" alt="" /><br>
			<img src="img/goods.png" alt="" /><br>
			<img src="img/select.png" alt="" />
		</section>
		<section class="cont-main">
			<br>
			<div class="pj-box">
				<img src="img/goods.png" alt="" />
				<div class="pj-box-right">
					<p>名称<time style="float: right;">21小时前</time></p>
					<p>评价评价评价评价评价</p>
				</div>
			</div>
			<div class="pj-box">
				<img src="img/goods.png" alt="" />
				<div class="pj-box-right">
					<p>名称<time style="float: right;">21小时前</time></p>
					<p>评价评价评价评价评价</p>
				</div>
			</div>
			<div class="pj-box">
				<img src="img/goods.png" alt="" />
				<div class="pj-box-right">
					<p>名称<time style="float: right;">21小时前</time></p>
					<p>评价评价评价评价评价</p>
				</div>
			</div>
			<div class="pj-box">
				<img src="img/goods.png" alt="" />
				<div class="pj-box-right">
					<p>名称<time style="float: right;">21小时前</time></p>
					<p>评价评价评价评价评价</p>
				</div>
			</div>
			<br>
			<a href="" class="select-gd">查看更多</a>
			<br>
		</section>
		<section class="cont-main">
			<br>
			<table border="0" cellspacing="0" cellpadding="0" class="cont-tabs">
				<tr>
					<th>用户</th>
					<th>数量</th>
					<th>成交时间</th>
				</tr>
				<tr>
					<td>
						<img src="img/goods.png" /> wodjjsj
					</td>
					<td>
						<span>1</span>
					</td>
					<td>
						2小时前
					</td>
				</tr>
				<tr>
					<td>
						<img src="img/goods.png" /> wodjjsj
					</td>
					<td>
						<span>1</span>
					</td>
					<td>
						2小时前
					</td>
				</tr>
				<tr>
					<td>
						<img src="img/goods.png" /> wodjjsj
					</td>
					<td>
						<span>1</span>
					</td>
					<td>
						2小时前
					</td>
				</tr>
				<tr>
					<td>
						<img src="img/goods.png" /> wodjjsj
					</td>
					<td>
						<span>1</span>
					</td>
					<td>
						2小时前
					</td>
				</tr>
			</table>
			<br>
			<a href="" class="select-gd">查看更多</a>
			<br>
		</section>

		<div style="height: 1.5rem;"></div>
		<!--撑高高度-->

		<footer class="footer">
			<ul>
				<li style="width: 2rem;">
					<a href="">
						<img src="img/kf.png" alt="" />
						<p>联系客服</p>
					</a>
				</li>
				<li style="width: 4rem;">
					<button class="addgoodcart">加入购物车</button>
				</li>
				<li style="width: 4rem;">
					<button class="buy">立即购买</button>
				</li>
			</ul>
		</footer>

		<!--加入购物车弹出-->
		<section class="crat-num">
			<div class="crat-tile crat-kuanbox">

			</div>
			<div class="crat-tile">
				购买数量
				<div class="crat-num-right">
					<button class="pay-minus2">-</button>
					<input type="text" name="" id="" value="1" class="pay-num-text2" />
					<button class="pay-add2">+</button>
				</div>
			</div>
			<div>
				<button class="crat-sub">确定</button>
			</div>
		</section>

		<!--end-->

		<div class="bgd"></div>
		<script type="text/javascript" src="js/zepto.min.js"></script>
		<script type="text/javascript" src="adt/swiper.min.js"></script>
		<script>
			$(".crat-sub").click(function() { //点击确定加入购物车
				alert("商品已加入购物车");
				$(".crat-num").css({
					webkitTransform: " translateY(6rem)",
					mozTransform: "translateY(6rem)",
					msTransform: "translateY(6rem)",
					oTransform: "translateY(6rem)",
					transform: "translateY(6rem)"
				});
				$(".bgd").hide();
				inpuRome(); //去除已选的类别
			})

			for(var i = 0; i < $(".det-ge table").length; i++) {
				geElect(".ge-atb" + i);
			}

			function geElect(obj) {
				$(obj + " button").click(function() {
					$(obj + " button").removeClass("ge-kuan-on");
					$(this).addClass("ge-kuan-on")
				})
			}

			//轮播图js star
			var swiper = new Swiper('.swiper-container', {
				pagination: '.swiper-pagination',
				paginationClickable: true,
				autoplay: 3000,
				speed: 300,
				autoplayDisableOnInteraction: false
			});
			//轮播图js end

			//头部菜单弹出
			headerZbox();

			function headerZbox() {
				var gb = document.querySelector(".gd");
				var zimeta = document.querySelector(".zi-meta");
				var bgd = document.querySelector(".bgd");
				gb.addEventListener('touchstart', function(e) {
					e.preventDefault();
					zimeta.style.display = "block";
					bgd.style.display = "block";
					document.body.style.overflow = "hidden";
				})
				bgd.addEventListener('touchstart', function(e) {
					e.preventDefault();
					zimeta.style.display = "none";
					bgd.style.display = "none";
					document.body.style.overflow = "auto";
					removCrat();
					inpuRome(); //去除已选的类别
				})
			}

			//封装class strat
			function hasClass(obj, cls) {
				return obj.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'));
			}

			function addClass(obj, cls) {
				if(!this.hasClass(obj, cls)) obj.className += " " + cls;
			}

			function removeClass(obj, cls) {
				if(hasClass(obj, cls)) {
					var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
					obj.className = obj.className.replace(reg, ' ');
				}
			}

			function toggleClass(obj, cls) {
				if(hasClass(obj, cls)) {
					removeClass(obj, cls);
				} else {
					addClass(obj, cls);
				}
			}
			//end	

			//table分页
			detCOnt();

			function detCOnt() {
				var detconter = document.querySelector(".detconter");
				var sli = detconter.querySelectorAll("li");
				var contMain = document.querySelectorAll(".cont-main");
				for(var i = 0; i < sli.length; i++) {
					sli[i].index = i;
					sli[i].addEventListener('touchstart', function(e) {
						e.preventDefault();
						for(var j = 0; j < sli.length; j++) {
							removeClass(sli[j], "detconter-on");

						}
						addClass(this, "detconter-on");
						for(var k = 0; k < contMain.length; k++) {
							contMain[k].style.display = "none";
						}
						contMain[this.index].style.display = "block";
					})
				}
			}

			//弹出计数框
			var addShowCrat = function() {
				$(".addgoodcart").on('touchstart', function(e) {
					e.preventDefault();
					$(".crat-num").css({
						webkitTransform: " translateY(0rem)",
						mozTransform: "translateY(0rem)",
						msTransform: "translateY(0rem)",
						oTransform: "translateY(0rem)",
						transform: "translateY(0rem)"
					});
					$(".bgd").show();

					ingpu(); //获取选择的值
				})
			}

			function ingpu() { //获取选择的值
				for(var i = 0; i < $(".ge-kuan-on").length; i++) {
					var texts = $(".ge-kuan-on").eq(i).text();
					$(".crat-kuanbox").append('<button class="crat-kuan">' + texts + '</button>')

				}
			}

			function inpuRome() {
				$(".crat-kuanbox").find("button").remove()
			}

			addShowCrat();

			function removCrat() { //关闭弹窗

				$(".crat-num").css({
					webkitTransform: " translateY(6rem)",
					mozTransform: "translateY(6rem)",
					msTransform: "translateY(6rem)",
					oTransform: "translateY(6rem)",
					transform: "translateY(6rem)"
				});
			}

			//算个数
			$(".pay-minus2").on('touchstart', function(e) { //计数---
				e.preventDefault();
				var num = $(this).siblings(".pay-num-text2").val();
				if(num <= 0) {
					num = 0;
				} else {
					$(this).siblings(".pay-num-text2").val(parseInt(--num));

				}

			});
			$(".pay-add2").on('touchstart', function(e) { //++++
				e.preventDefault();
				var num = $(this).siblings(".pay-num-text2").val();
				$(this).siblings(".pay-num-text2").val(parseInt(++num));

			});
		</script>

	</body>

</html>