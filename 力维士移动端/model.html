<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>标题</title>
		<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
		<meta content="yes" name="apple-mobile-web-app-capable">
		<meta content="black" name="apple-mobile-web-app-status-bar-style">
		<meta content="telephone=no" name="format-detection">
		<meta content="email=no" name="format-detection">
		<script type="text/javascript" src="js/sethtml.js"></script>
		<link rel="stylesheet" href="css/css.css" />
		<script type="text/javascript" src="js/TouchSlide.1.1.js"></script>
	</head>

	<body>
		<aside id="sidebar">
			<nav id="nav">
				<ul>
					<li>
						<a href="query.html">
							我的订单(1)
						</a>
					</li>
					<li>
						<a href="mailsend.html">
							待邮寄(0)
						</a>
					</li>
					<li>
						<a href="pay.html">
							待支付(0)
						</a>
					</li>
					<li>
						<a href="receiving.html">
							待收货(0)
						</a>
					</li>
					<li>
						<a href="evaluate.html">
							待评价(0)
						</a>
					</li>
					<li>
						<a href="yi_evaluate.html">
							已评价(0)
						</a>
					</li>
					<li>
						<a href="discount_coupon.html">
							优惠劵(0)
						</a>
					</li>
				</ul>
			</nav>
		</aside>
		<div class="bas"></div>
		<!--背景-->
		<section id="main">
			<header id="header">
				<a href="javascript:history.go(-1);" class="head-ht"><img src="images/head-ht.png" /></a>
				<img src="images/nav-but.png" class="nav-but" /> 选择设备型号
			</header>
			<div style="height: 1.4rem;"></div>
			<section >
				<div class="mode-row mode-row-pp">
					选择品牌 <span>请选择＞</span>
				</div>
				<div class="modata">
					<!--品牌-->
					<ul class="brand ser-brand clearfix">

					</ul>
				</div>
				<div class="mode-row">
					选择型号 <span>请选择＞</span>
				</div>
				<div class="modata">
					<!--型号-->
					<ul class="brand ser-sub-min clearfix">

					</ul>
				</div>
				<div class="mode-row">
					选择颜色 <span>请选择＞</span>
				</div>
				<div class="modata">
					<!--品牌-->
					<ul class="brand ser-sub-min-color clearfix">

					</ul>
				</div>
				<a href="fault.html"><button id="searchs-sub2">下一步</button></a>
			</section>

		</section>
		<script type="text/javascript" src="js/zepto.min.js"></script>
		<script type="text/javascript" src="js/sidebar.js"></script>
		<script>
			var d = [{
				"name": "iPhone",
				"type": [{
					"typename": "iPhone6",
					"color": ["红色", "白色", "白色", "白色"]
				}, {
					"typename": "iPhone7",
					"color": ["红色", "白色"]
				}]
			}, {

				"name": "华为",
				"type": [{
					"typename": "华为p6",
					"color": ["红色", "白色"]
				}, {
					"typename": "华为7",
					"color": ["红色", "白色", "白色"]
				}, {
					"typename": "华为10",
					"color": ["红色", "白色", "白色"]
				}]
			}, {

				"name": "小米",
				"type": [{
					"typename": "小米note",
					"color": ["红色", "白色"]
				}, {
					"typename": "小米note2",
					"color": ["红色", "白色", "白色"]
				}]
			}, {

				"name": "三星",
				"type": [{
					"typename": "三星6",
					"color": ["红色", "白色"]
				}, {
					"typename": "三星7",
					"color": ["红色", "白色", "白色"]
				}]
			}, {

				"name": "魅族",
				"type": [{
					"typename": "魅族p6",
					"color": ["红色", "白色"]
				}, {
					"typename": "魅族p7",
					"color": ["红色", "白色", "白色"]
				}]
			}, {

				"name": "努比亚",
				"type": [{
					"typename": "努比亚p6",
					"color": ["红色", "白色"]
				}, {
					"typename": "努比亚p7",
					"color": ["红色", "白色", "白色"]
				}]
			}, {

				"name": "vivo",
				"type": [{
					"typename": "vivop2",
					"color": ["红色", "白色"]
				}, {
					"typename": "vivo",
					"color": ["红色", "白色", "白色"]
				}]
			}, {

				"name": "oppo",
				"type": [{
					"typename": "oppop6",
					"color": ["红色", "白色"]
				}, {
					"typename": "oppop7",
					"color": ["红色", "白色", "白色"]
				}]
			}];

			controlSurface();

			function controlSurface() {
				var brand = $(".ser-brand"),
					subMin = $(".ser-sub-min"),
					subMinColor = $(".ser-sub-min-color");

				var bCount = 0;
				var mCount = 0;
				var cCount = 0;
				init();

				function init() { //初始化

					for(var i = 0; i < d.length; i++) {
						brand.append('<li><button>' + d[i].name + '</button></li>');

					}

					for(var j = 0; j < d[0].type.length; j++) {
						subMin.append('<li><button>' + d[0].type[j].typename + '</button></li>');
					}
					brand.find("li").eq(0).find("button").addClass("ser-brand-on");

				}

				brandsClick();

				function brandsClick() { //品牌点击事件
					var branli = $(".ser-brand button");
					var subMinspan = $(".ser-sub-min button");
					var subMinColorspan = $(".ser-sub-min-color button");
					branli.click(function() { //品牌
						bCount = $(this).parent().index();
						cut();
						subMinspan.removeClass("ser-sub-min-on");
						subMinColorspan.removeClass("ser-sub-min-color-on");
						branli.removeClass("ser-brand-on");
						$(this).addClass("ser-brand-on");

					
					});

				}
				subMinspanClick();

				function subMinspanClick() { //型号点击事件
					var subMinspan = $(".ser-sub-min button");
					subMinspan.click(function() {
						mCount = $(this).parent().index();
						cut2();
						subMinspan.removeClass("ser-sub-min-on"); //型号
						$(this).addClass("ser-sub-min-on");
						

					});
				}

				subMinColorspanClick();

				function subMinColorspanClick() { //颜色点击事件
					var subMinColorspan = $(".ser-sub-min-color button");
					subMinColorspan.click(function() {
						subMinColorspan.removeClass("ser-sub-min-color-on"); //颜色
						$(this).addClass("ser-sub-min-color-on");
						
					});
				}

				function cut() { //切换
					subMin.html("");
					subMinColor.html("");
					for(var j = 0; j < d[bCount].type.length; j++) {

						subMin.append('<li><button>' + d[bCount].type[j].typename + '</button></li>');

					}
					subMinspanClick();
				}

				function cut2() { //切换2

					subMinColor.html("");
					for(var k = 0; k < d[bCount].type[mCount].color.length; k++) {

						subMinColor.append('<li><button>' + d[bCount].type[mCount].color[k] + '</button></li>');
					}
					subMinColorspanClick();
				}

				$(".mode-row").click(function(){
					$(this).next(".modata").show();
				})
			}
		</script>
	</body>

</html>